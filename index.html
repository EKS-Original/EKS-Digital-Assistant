<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electrical Pro Work Suite</title>
    <style>
        :root { --primary: #f1c40f; --dark: #121212; --card: #1e1e1e; --text: #eee; --blue: #3498db; --red: #e74c3c; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--dark); color: var(--text); margin: 0; padding-bottom: 80px; }
        .header { background: #000; padding: 15px; text-align: center; border-bottom: 3px solid var(--primary); }
        .nav { display: flex; overflow-x: auto; background: #222; position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #444; }
        .nav button { flex: 1; padding: 15px; border: none; background: none; color: white; cursor: pointer; min-width: 90px; font-size: 13px; white-space: nowrap; }
        .nav button.active { border-bottom: 3px solid var(--primary); color: var(--primary); font-weight: bold; }
        .container { padding: 15px; max-width: 800px; margin: auto; }
        .card { background: var(--card); padding: 20px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        input, textarea, select { width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: 1px solid #444; background: #2c3e50; color: white; box-sizing: border-box; }
        .btn { background: var(--primary); color: black; border: none; padding: 15px; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px; }
        .list-item { background: #2c3e50; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 5px solid var(--primary); position: relative; }
        .delete-btn { position: absolute; right: 10px; top: 10px; color: var(--red); cursor: pointer; font-size: 18px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px; }
        th, td { border: 1px solid #444; padding: 10px; text-align: center; }
        th { background: #333; color: var(--primary); }
        .hidden { display: none; }
        .total-box { font-size: 20px; text-align: right; color: var(--primary); margin-top: 10px; font-weight: bold; }
    </style>
</head>
<body>

<div class="header"><h2>ELECTRICAL PRO WORK SUITE</h2></div>

<div class="nav">
    <button id="b1" class="active" onclick="showTab('daily')">Daily Logs</button>
    <button id="b2" onclick="showTab('schedule')">Schedules</button>
    <button id="b3" onclick="showTab('inventory')">Budget/Inventory</button>
    <button id="b4" onclick="showTab('calc')">Calculators</button>
    <button id="b5" onclick="showTab('ref')">Cable Ref</button>
</div>

<div class="container">
    <div id="daily">
        <h3>ğŸ‘· á€”á€±á€·á€…á€‰á€º á€œá€¯á€•á€ºá€„á€”á€ºá€¸á€™á€¾á€á€ºá€á€™á€ºá€¸</h3>
        <div class="card">
            <input type="text" id="logTitle" placeholder="Project / á€¡á€œá€¯á€•á€ºá€¡á€™á€Šá€º">
            <textarea id="logDetail" placeholder="á€¡á€á€±á€¸á€…á€­á€á€ºá€™á€¾á€á€ºá€á€»á€€á€º..."></textarea>
            <button class="btn" onclick="saveData('logs', ['logTitle', 'logDetail'])">Save Record</button>
        </div>
        <div id="logList"></div>
    </div>

    <div id="schedule" class="hidden">
        <h3>ğŸ“… á€¡á€œá€¯á€•á€ºá€¡á€…á€®á€¡á€…á€‰á€º (Planning)</h3>
        <div class="card">
            <input type="date" id="planDate">
            <input type="text" id="planTask" placeholder="á€œá€¯á€•á€ºá€†á€±á€¬á€„á€ºá€›á€™á€Šá€·á€ºá€¡á€œá€¯á€•á€º">
            <button class="btn" onclick="saveData('plans', ['planDate', 'planTask'])">Add to Schedule</button>
        </div>
        <div id="planList"></div>
    </div>

    <div id="inventory" class="hidden">
        <h3>ğŸ’° á€•á€…á€¹á€…á€Šá€ºá€¸á€…á€¬á€›á€„á€ºá€¸á€”á€¾á€„á€·á€º Budget</h3>
        <div class="card">
            <input type="text" id="matName" placeholder="á€•á€…á€¹á€…á€Šá€ºá€¸á€¡á€™á€Šá€º">
            <input type="number" id="matQty" placeholder="á€¡á€›á€±á€¡á€á€½á€€á€º">
            <input type="number" id="matPrice" placeholder="á€ˆá€±á€¸á€”á€¾á€¯á€”á€ºá€¸ (Unit Price)">
            <button class="btn" onclick="saveData('mats', ['matName', 'matQty', 'matPrice'])">Update List</button>
            <div class="total-box">á€…á€¯á€…á€¯á€•á€±á€«á€„á€ºá€¸: <span id="grandTotal">0</span> á€€á€»á€•á€º</div>
        </div>
        <div id="matList"></div>
    </div>

    <div id="calc" class="hidden">
        <h3>âš¡ Quick Calculators</h3>
        <div class="card">
            <h4>Watts to Amps (230V)</h4>
            <input type="number" id="watts" placeholder="Power (Watts)" oninput="document.getElementById('resA').innerText = (this.value/230).toFixed(2)">
            <p>Result: <b id="resA" style="color:var(--primary)">0</b> Amps</p>
        </div>
    </div>

    <div id="ref" class="hidden">
        <h3>ğŸ“š Cable Ampacity Reference (Cu/PVC)</h3>
        <div class="card" style="overflow-x:auto;">
            <table>
                <thead>
                    <tr><th>Size (mmÂ²)</th><th>Single Core (A)</th><th>Multicore (A)</th></tr>
                </thead>
                <tbody id="cableTable"></tbody>
            </table>
            <p style="font-size: 11px; color: #888; margin-top: 10px;">* Reference: Ambient 30Â°C in Conduit.</p>
        </div>
    </div>
</div>

<script>
    function showTab(id) {
        ['daily', 'schedule', 'inventory', 'calc', 'ref'].forEach(t => document.getElementById(t).classList.add('hidden'));
        document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
        document.getElementById(id).classList.remove('hidden');
        event.currentTarget.classList.add('active');
        renderAll();
    }

    function saveData(key, inputs) {
        let data = JSON.parse(localStorage.getItem(key) || '[]');
        let entry = { id: Date.now(), time: new Date().toLocaleDateString() };
        inputs.forEach(id => { entry[id] = document.getElementById(id).value; document.getElementById(id).value = ''; });
        data.unshift(entry);
        localStorage.setItem(key, JSON.stringify(data));
        renderAll();
    }

    function deleteItem(key, id) {
        if(confirm("á€–á€»á€€á€ºá€›á€”á€º á€á€±á€á€»á€¬á€•á€«á€á€œá€¬á€¸?")) {
            let data = JSON.parse(localStorage.getItem(key)).filter(i => i.id !== id);
            localStorage.setItem(key, JSON.stringify(data));
            renderAll();
        }
    }

    function renderAll() {
        document.getElementById('logList').innerHTML = JSON.parse(localStorage.getItem('logs') || '[]').map(l => `
            <div class="list-item"><span class="delete-btn" onclick="deleteItem('logs', ${l.id})">Ã—</span><b>${l.logTitle}</b> (${l.time})<p>${l.logDetail}</p></div>`).join('');
        
        document.getElementById('planList').innerHTML = JSON.parse(localStorage.getItem('plans') || '[]').map(p => `
            <div class="list-item"><span class="delete-btn" onclick="deleteItem('plans', ${p.id})">Ã—</span>ğŸ“… <b>${p.planDate}</b>: ${p.planTask}</div>`).join('');

        let total = 0;
        document.getElementById('matList').innerHTML = JSON.parse(localStorage.getItem('mats') || '[]').map(m => {
            let sub = Number(m.matQty) * Number(m.matPrice);
            total += sub;
            return `<div class="list-item"><span class="delete-btn" onclick="deleteItem('mats', ${m.id})">Ã—</span>ğŸ“¦ <b>${m.matName}</b>: ${m.matQty} x ${m.matPrice} = <b>${sub.toLocaleString()}</b> á€€á€»á€•á€º</div>`;
        }).join('');
        document.getElementById('grandTotal').innerText = total.toLocaleString();
    }

    function loadCableData() {
        const cables = [
            ["1.5", 17.5, 15.5], ["2.5", 24, 21], ["4", 32, 28], ["6", 41, 36], ["10", 57, 50],
            ["16", 76, 68], ["25", 101, 89], ["35", 125, 110], ["50", 151, 134], ["70", 192, 171],
            ["95", 232, 207], ["120", 269, 239], ["150", 309, 275], ["185", 353, 314], ["240", 415, 370]
        ];
        document.getElementById('cableTable').innerHTML = cables.map(c => `<tr><td>${c[0]}</td><td>${c[1]}</td><td>${c[2]}</td></tr>`).join('');
    }

    window.onload = () => { loadCableData(); renderAll(); };
</script>
</body>
</html>
